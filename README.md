# Straddle Backtester


```pip install -r requirements.txt```

```export PYTHONPATH='.'```

```python backtester/straddle.py conf/straddle.json```

Format of the db files:
```
date               |ticker             |open  |high  |low   |close |volume|oi     |strike|type|expiry_date|
-------------------+-------------------+------+------+------+------+------+-------+------+----+-----------+
2020-01-03 09:15:59|NIFTY30JAN2012900CE|  4.85|  5.55|  4.45|  5.35|  5400| 256200|12900 |CE  |2020-01-30 |
2020-01-03 09:15:59|NIFTY30JAN2012700PE| 405.9| 425.0| 405.9| 422.0|   825|  35625|12700 |PE  |2020-01-30 |
2020-01-03 09:15:59|NIFTY16JAN2012150PE| 37.25| 56.15| 37.15| 56.15|  1125|   7200|12150 |PE  |2020-01-16 |
2020-01-03 09:15:59|NIFTY30JAN2012100PE|  73.0|  81.1| 71.35|  79.4| 51975|1155450|12100 |PE  |2020-01-30 |
2020-01-03 09:15:59|NIFTY30JAN2013500CE|  1.05|  1.05|  1.05|  1.05|   375| 359700|13500 |CE  |2020-01-30 |
2020-01-03 09:15:59|NIFTY09JAN2012250PE|  40.4|  68.0|  40.4|  66.0|480600|1027050|12250 |PE  |2020-01-09 |

```

Format of the underlying db files

```
index|date               |open    |high    |low     |close   |volume|oi|
-----+-------------------+--------+--------+--------+--------+------+--+
    0|2019-01-01 09:15:00| 10881.7| 10884.6|10872.55| 10874.1|     0| 0|
    1|2019-01-01 09:16:00|10875.75|10879.15|10874.35| 10874.9|     0| 0|
    2|2019-01-01 09:17:00| 10874.2|10876.65|10873.85|10876.65|     0| 0|
    3|2019-01-01 09:18:00| 10876.7| 10876.7| 10862.2| 10863.8|     0| 0|
    4|2019-01-01 09:19:00|10864.65|10864.65|10840.75|10841.05|     0| 0|
    5|2019-01-01 09:20:00|10840.15|10842.65| 10833.8|10841.25|     0| 0|
    6|2019-01-01 09:21:00| 10842.0| 10850.3|10839.15|10848.55|     0| 0|
    7|2019-01-01 09:22:00|10849.15|10850.85| 10843.0| 10844.2|     0| 0|
    8|2019-01-01 09:23:00|10843.75|10844.25| 10840.3| 10840.5|     0| 0|
    9|2019-01-01 09:24:00|10841.45| 10842.7| 10834.8| 10836.1|     0| 0|
    
```